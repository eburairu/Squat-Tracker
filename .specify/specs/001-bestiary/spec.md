# Monster Bestiary (モンスター図鑑)

## 1. 概要
プレイヤーがこれまでに遭遇・撃破したモンスターの情報を閲覧できる「モンスター図鑑」機能を実装する。
RPG要素としての没入感を高め、コレクションによる継続的なモチベーション向上を図る。

## 2. 目的
- プレイヤーの冒険の軌跡（倒してきたボス）を可視化する。
- 「まだ見ぬ強敵」をシルエットで示唆し、ゲーム進行の意欲を刺激する。
- 既存のRPG要素（ボスバトル）に深みを与える。

## 3. 機能要件

### 3.1. データソース
- **モンスター基本情報**: 既存の `js/constants.js` 内 `MONSTERS` 配列（名前、絵文字、HP範囲）。
- **詳細情報**: 新規作成するデータソース（説明文、フレーバーテキスト）。
- **進行状況**: `BossBattle` の永続化ステート（`monsterIndex`, `loopCount`）。

### 3.2. 一覧表示（Grid View）
- 全モンスターをグリッド形式で一覧表示する。
- **表示状態**:
  - **遭遇済み（撃破済み/戦闘中）**: 絵文字と名前を表示。
  - **未遭遇**: シルエット（「？」や影）と「？？？」という名前で表示。
  - **選択**: タップ/クリックで詳細ビューを開く。

### 3.3. 詳細表示（Detail View）
- 選択したモンスターの詳細情報をモーダル等で表示する。
- **表示項目**:
  - 大きな絵文字（アバター）
  - 名前
  - **フレーバーテキスト**: そのモンスターの背景ストーリーや特徴（新規データ）。
  - **データ**: 平均HPなどのステータス情報。
  - **撃破数**: プレイヤーがそのモンスターを倒した累計回数（周回数から算出）。

### 3.4. アクセス
- メイン画面（例：設定メニュー内やヘッダーのアクションボタン）から図鑑を開けるようにする。

## 4. 非機能要件
- **パフォーマンス**: データ量が増えても描画が重くならないこと（現状10体程度なので問題なし）。
- **拡張性**: 将来的にモンスターが増えた場合もデータ追加のみで対応できること。
- **デザイン**: 既存のダークモード/ライトモードに対応する。

## 5. エッジケース
- **初回起動時**: 最初のスライム（Index 0）のみが「戦闘中（遭遇済み）」として表示され、他はすべて未遭遇となる。
- **データ不整合**: 万が一 `constants.js` のモンスター定義が変更された場合でも、インデックスベースで安全にフォールバックするか、名前マッチングで整合性を保つ。
