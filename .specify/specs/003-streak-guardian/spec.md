# 仕様書: ストリーク・ガーディアン (Streak Guardian)

## 概要
ユーザーの連続記録（ストリーク）が途切れてしまうまでの「残り時間」を計算し、視覚的に警告することで、トレーニングの記録漏れを防ぎ、継続率を向上させる機能。

## 目的
- ユーザーの「うっかりミス」による連続記録の途絶を防ぐ。
- 「あと少しで途切れる」という切迫感を演出し、トレーニングへの着手を促す。

## 仕様詳細

### 1. 有効期限の定義
- 最終トレーニング日（`lastWorkoutDate`）の「翌日の23:59:59」を、ストリーク継続の有効期限（デッドライン）とする。
- 例: 10月1日にトレーニングした場合、10月2日の23:59:59までに次のトレーニングを行えばストリークは継続する。

### 2. ステータス判定
現在時刻とデッドラインの差分（残り時間）に応じて、以下のステータスを定義する。

| ステータス | 残り時間 | UI表現 | メッセージ例 |
| :--- | :--- | :--- | :--- |
| **Safe** | 12時間以上 | 緑（通常） | 連続記録継続中！ |
| **Warning** | 6時間未満 | 黄（注意） | あと◯時間で記録が途切れます |
| **Danger** | 3時間未満 | 赤（警告） | ⚠️ 期限まであと◯時間◯分！ |
| **Lost** | 0以下 | グレー | 記録が途切れました |

### 3. 表示ロジック
- トレーニング完了済み（当日分実施済み）の場合:
  - 「本日のトレーニング完了！ 次の期限は明日の23:59です」といったポジティブな表示、または非表示にする（完了感重視のため「完了」バッジを表示推奨）。
- 未実施の場合:
  - 上記ステータスに基づきカウントダウンを表示。

### 4. UI/UX
- 配置: 画面上部（ヒーローヘッダー内）、現在のストリーク表示の近く。
- アクション: クリックすると詳細（正確な期限日時など）をトースト表示。

## 技術的制約
- クライアントサイドの時刻（`new Date()`）に依存するため、ユーザーが端末時計を操作すると表示が変わるが、これは許容する。
- ローカルストレージの履歴データを正とする。

## エッジケース
- **初回利用時**: 履歴がないため非表示、または「初日」として扱う。
- **久しぶりの復帰**: 期限が大幅に過ぎているため「Lost」状態だが、トレーニング完了後に即座に「Safe」（翌日が期限）に切り替わること。
