# 要件定義書

## 機能概要
ユーザーのモチベーション向上を目的として、特定の条件を満たすと獲得できる「実績バッジ」システムを実装する。
「過去の実績」カードをタブ化し、バッジ一覧を閲覧可能にする。

## ユーザーストーリー
- ユーザーとして、日々の努力が可視化されるバッジを獲得したい。なぜなら達成感を得てモチベーションを維持したいから。
- ユーザーとして、獲得したバッジをコレクションとして眺めたい。
- ユーザーとして、過去の頑張り（累計回数など）も評価され、即座にバッジを獲得したい。

## 機能要件

### 要件1：実績バッジシステム (AchievementSystem)
- 30種類のバッジを定義し、条件判定を行う。
- `finishWorkout` 時に判定を実行する。
- 獲得時には通知（ファンファーレ等）を行う。
- 永続化キー: `squat-tracker-achievements`

#### バッジリスト（30種）

**継続 (Consistency)**
1. **初めの一歩 (Baby Steps)**: 初めてワークアウトを完了
2. **三日坊主回避 (Consistent)**: 3日連続達成
3. **週間チャンピオン (Weekly Warrior)**: 7日連続達成
4. **習慣の達人 (Habit Master)**: 30日連続達成
5. **百日修業 (Century Streak)**: 100日連続達成

**累計回数 (Total Reps)**
6. **スクワット初心者 (Rookie)**: 累計100回
7. **見習い戦士 (Fighter)**: 累計500回
8. **熟練の騎士 (Knight)**: 累計1,000回
9. **筋肉の将軍 (General)**: 累計5,000回
10. **伝説の英雄 (Legend)**: 累計10,000回

**討伐 (Boss Battles)**
11. **モンスターハンター (First Blood)**: 初めてボスを倒す
12. **スレイヤー (Slayer)**: ボス10体討伐
13. **図鑑コンプ (Collector)**: 全種類(10種)のボスを討伐
14. **クリティカル (Critical Hit)**: ボスへの攻撃でクリティカルを出す
15. **限界突破 (Limit Break)**: レベル10到達

**設定・特殊 (Settings & Specials)**
16. **センサー使い (Tech User)**: センサーモードで1回完了
17. **ストイック (Stoic)**: 休憩時間が15秒以下設定で完了
18. **スローライフ (Slow Life)**: しゃがむ・立つが各3秒以上で完了
19. **マラソンマン (Marathon)**: 1セット30回以上設定で完了
20. **鉄の意志 (Iron Will)**: 一時停止ボタンを一度も押さずに完了
21. **カスタマイザー (Customizer)**: プリセットを保存する
22. **復活の呪文 (Backup)**: データをエクスポートする
23. **ハーフ＆ハーフ (Balance)**: しゃがむ時間と立つ時間が同じ設定で完了
24. **フルコンボ (Good Listener)**: 音声ガイドONで完了
25. **テーマチェンジャー (Chameleon)**: テーマを切り替える

**時間・ユーモア (Time & Humor)**
26. **早起きは三文の徳 (Early Bird)**: 午前4時〜8時に完了
27. **夜更かしの筋トレ (Night Owl)**: 午後10時〜午前2時に完了
28. **ランチタイム (Lunch Break)**: 正午〜午後1時に完了
29. **週末の戦士 (Weekend Warrior)**: 土曜または日曜に完了
30. **ラッキーセブン (Lucky 7)**: 1セット7回設定で完了

### 要件2：タブUI (Tab Interface)
- 「過去の実績」カード内にタブナビゲーションを配置。
- **タブA [記録]**: 既存のヒートマップと履歴リストを表示。
- **タブB [実績]**: バッジグリッドを表示。
- バッジはグリッド表示し、未獲得はグレーアウト（シルエット）、獲得済みはカラー表示。
- バッジクリック/タップで詳細（名前、説明、獲得日）を表示（ツールチップまたは展開）。

### 受入基準
- [ ] 30個すべてのバッジが条件を満たしたタイミングで獲得できること。
- [ ] 過去の履歴に基づき、該当するバッジ（累計回数など）が遡って付与されること。
- [ ] タブ切り替えがスムーズに動作し、状態が保持されること。
- [ ] 獲得時に演出が表示されること。
