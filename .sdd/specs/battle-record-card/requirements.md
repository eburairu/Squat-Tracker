# 要件定義書: 戦績カード生成 (Battle Record Card)

## 機能概要
ユーザーのトレーニング成果（レベル、武器、ボス討伐数、バッジなど）を、RPGのステータス画面風の「戦績カード」として画像生成し、共有可能にする機能。

## ユーザーストーリー
- ユーザーとして、自分の努力の結晶であるステータスを画像化してSNSに投稿したい。なぜなら、友人に見せることで承認欲求を満たし、モチベーションを高めたいから。
- ユーザーとして、現在のレベルや最強装備を一目で確認したい。なぜなら、RPGとしての成長を実感したいから。

## 機能要件

### 要件1：戦績カード生成トリガー
- 「過去の実績」タブ（`#tab-achievements`）内に、「戦績カードを作成」ボタンを配置する。
- ボタン押下時に、現在のユーザーデータ（RpgSystem, AchievementSystem, InventoryManager, BossBattle）を集計し、画像生成処理を開始する。
- 受入基準：
  - [ ] 「過去の実績」タブにボタンが表示されていること。
  - [ ] ボタンをクリックするとモーダルが開くこと。

### 要件2：画像生成 (Canvas)
- 以下の情報を含む画像をCanvas APIを用いて生成する。
  - タイトル: "SQUAT TRACKER BATTLE RECORD"
  - 日付: 生成日 (YYYY/MM/DD)
  - プレイヤーレベル & 称号
  - 攻撃力 (Attack Power)
  - 装備中の武器（名前、レアリティ、アイコンまたは絵文字）
  - 討伐数 (Boss Kills)
  - 累計スクワット回数 (Total Reps)
  - バッジ取得数 / 全バッジ数
  - アプリのURL（QRコードまたはテキスト）
- デザインはアプリのダークテーマに合わせる。
- 受入基準：
  - [ ] 指定された全ての情報が画像に含まれていること。
  - [ ] 文字が見切れず、レイアウトが整っていること。

### 要件3：プレビューと保存
- 生成された画像をプレビュー表示するモーダルウィンドウを表示する。
- 「画像を保存」ボタンを提供し、クリックするとPNG形式でダウンロードされる。
- 受入基準：
  - [ ] モーダル内に生成された画像が表示されること。
  - [ ] 保存ボタンで画像ファイル（.png）がダウンロードできること。

## 非機能要件
- 外部APIを使用せず、ブラウザのCanvas APIのみで実装すること。
- モバイル端末でも動作すること。
- 画像生成処理がUIを長時間（1秒以上）ブロックしないこと。
