# 要件定義: 称号・二つ名システム

## 1. 概要
ユーザーの実績解除や特定アクションに対する報酬として「称号（Title）」を付与し、ユーザーが「形容詞（Prefix）」と「名詞（Suffix）」を自由に組み合わせて自身の肩書きを設定できる機能。
これにより、ユーザーのコレクション意欲を刺激し、継続的なトレーニングへのモチベーションを高める。

## 2. 目的
- **モチベーション向上**: 実績解除に対する報酬を強化し、ユーザーに次の目標を提示する。
- **自己表現**: ユーザー自身が獲得した称号を組み合わせて、個性的な肩書きを作成できるようにする。
- **プレイサイクルの強化**: トレーニング -> 実績解除 -> 称号獲得 -> カスタマイズ -> モチベーション向上 -> トレーニング、というループを作る。

## 3. 機能要件

### 3.1. 称号の構造
- 称号は **Prefix（形容詞/修飾語）** と **Suffix（名詞/主体）** の2つのパーツで構成される。
- 例: 「伝説の (Prefix)」 + 「スクワッター (Suffix)」
- ユーザーはそれぞれ1つずつ選択して組み合わせる。
- 未設定の場合はデフォルト表示（例: "Squat Tracker"）とする。

### 3.2. 獲得条件
- 実績（Achievement）の解除と連動して獲得できる。
- 1つの実績解除につき、Prefixのみ、Suffixのみ、あるいは両方を獲得可能とする。
- すべての称号は初期状態でロックされており、条件を満たすことでアンロックされる。
- 一部の初期称号（例: 「初心者の」「トレーニー」）は最初から解放されていてもよい。

### 3.3. 設定・管理
- 専用のUI（モーダル等）で、獲得済みのPrefix/Suffix一覧を確認できる。
- 未獲得の称号は「？？？」やロックアイコンで表示し、獲得条件（どの実績に紐付くか）をヒントとして表示する（あるいは非表示にする）。
- 選択した組み合わせを保存し、アプリケーションの次回起動時にも維持する。

### 3.4. 表示
- 設定された称号は、アプリケーションのヘッダー部分（メイン画面上部）に常時表示される。
- 称号が変更された際、即座に表示に反映される。

## 4. 非機能要件
- **永続化**: 獲得状況および現在設定中の称号は `localStorage` に保存する。
- **パフォーマンス**: 称号データのロードや切り替えがUIスレッドをブロックしないこと。
- **拡張性**: 称号データはJSONで管理し、プログラムの修正なしにデータ追加のみで新しい称号を増やせること。

## 5. ユースケース
1. **称号の獲得**: ユーザーが「累計100回」の実績を解除すると、通知と共に称号「見習い」を獲得する。
2. **称号の変更**: ユーザーは設定画面を開き、Prefix「見習い」とSuffix「戦士」を選択して保存する。ヘッダーの表示が「見習い戦士」に変わる。
3. **未獲得称号の確認**: ユーザーは設定画面でロックされている称号をタップし、「実績: 30日連続達成で解除」というヒントを確認する。

## 6. エッジケース・制約
- データ破損等で設定中の称号IDが存在しない場合、デフォルト表示（Squat Tracker）に戻る。
- 称号の文字列が長すぎる場合、UI上で省略表示あるいは改行表示を行い、レイアウト崩れを防ぐ（CSSで制御）。
