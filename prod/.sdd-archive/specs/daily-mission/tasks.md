# 実装タスクリスト

## セクション1：UI準備
- [x] 1.1 `index.html` にデイリーミッション用のカードを追加
  - 詳細: `.primary-grid` 内、`#boss-card` の前に挿入。ミッションリストのコンテナを用意。
- [x] 1.2 `styles.css` にミッションカードのスタイルを追加
  - 詳細: ミッションアイテム（行）、プログレスバー、完了時のスタイル、受取ボタン等のスタイル定義。

## セクション2：コアロジック実装
- [x] 2.1 `DailyMissionSystem` のスケルトンとデータ管理の実装
  - 詳細: `init`, `load`, `save` メソッド。日付チェックによるリセット処理 (`checkDailyReset`) の実装。
- [x] 2.2 ミッション生成ロジックの実装 (`generateMissions`)
  - 詳細: ミッションプール（定義）の作成、ランダム選択、ミッションオブジェクト生成。
- [x] 2.3 ミッション達成判定ロジックの実装 (`check`)
  - 詳細: `type` に応じた条件判定、進捗更新、達成通知 (`showToast`)。
- [x] 2.4 報酬受取と武器抽選ロジックの実装 (`claimReward`)
  - 詳細: 100%ドロップの抽選ロジック、`InventoryManager.addWeapon` の呼び出し、受取状態の永続化。
- [x] 2.5 UIレンダリングロジックの実装 (`render`)
  - 詳細: ミッションリストのDOM生成、イベントリスナー（受取クリック）の設定。

## セクション3：統合
- [x] 3.1 `DailyMissionSystem.init()` の呼び出しと初期化
  - 詳細: `app.js` の初期化フローに追加。アプリ起動時のログインミッション達成確認。
- [x] 3.2 ワークアウト完了時のフック追加
  - 詳細: `finishWorkout` 関数内で `DailyMissionSystem.check({ type: 'finish', ... })` を呼び出す。

## セクション4：テスト・検証
- [x] 4.1 Playwrightテストの作成 (`tests/daily-mission.spec.js`)
  - 詳細: ミッション生成、トレーニングによる達成、報酬受取のE2Eフロー確認。ローカルストレージ操作による日付変更テスト。
