---
description: "機能実装のためのタスクリストテンプレート"
---

# タスク: [機能名]

**入力**: `/specs/[###-feature-name]/` の設計ドキュメント
**前提条件**: plan.md (必須), spec.md (ユーザーストーリーに必須), research.md, data-model.md, contracts/

**テスト**: 以下の例にはテストタスクが含まれています。テストは**任意**であり、機能仕様書で明示的に要求されている場合のみ含めてください。

**構成**: タスクはユーザーストーリーごとにグループ化し、各ストーリーの独立した実装とテストを可能にします。

## フォーマット: `[ID] [P?] [Story] 説明`

- **[P]**: 並列実行可能 (別ファイル、依存関係なし)
- **[Story]**: このタスクが属するユーザーストーリー (例: US1, US2, US3)
- 説明には正確なファイルパスを含めてください

## パス規約

- **Single project**: `src/`, `tests/` がリポジトリルート
- **Web app**: `backend/src/`, `frontend/src/`
- **Mobile**: `api/src/`, `ios/src/` または `android/src/`
- 以下のパスはシングルプロジェクトを想定しています。plan.md の構造に基づいて調整してください。

<!--
  ============================================================================
  重要: 以下のタスクはあくまで例示用です。

  /speckit.tasks コマンドは、以下の情報に基づいて実際のタスクに置き換える必要があります:
  - spec.md のユーザーストーリー (優先度 P1, P2, P3...)
  - plan.md の機能要件
  - data-model.md のエンティティ
  - contracts/ のエンドポイント

  タスクはユーザーストーリーごとに整理し、各ストーリーが以下のように扱えるようにしてください:
  - 独立して実装可能
  - 独立してテスト可能
  - MVP増分として納品可能

  生成される tasks.md ファイルにこれらのサンプルタスクを残さないでください。
  ============================================================================
-->

## Phase 1: セットアップ (共有インフラ)

**目的**: プロジェクトの初期化と基本構造

- [ ] T001 実装計画に従ってプロジェクト構造を作成する
- [ ] T002 [フレームワーク] 依存関係を含むプロジェクトを初期化する
- [ ] T003 [P] リンターとフォーマッターツールを設定する

---

## Phase 2: 基盤 (ブロッキング前提条件)

**目的**: 全てのユーザーストーリーの実装前に完了しなければならないコアインフラ

**⚠️ 重要**: このフェーズが完了するまで、ユーザーストーリーの作業を開始することはできません

基盤タスクの例 (プロジェクトに合わせて調整):

- [ ] T004 データベーススキーマとマイグレーションフレームワークのセットアップ
- [ ] T005 [P] 認証/認可フレームワークの実装
- [ ] T006 [P] APIルーティングとミドルウェア構造のセットアップ
- [ ] T007 全てのストーリーが依存するベースモデル/エンティティの作成
- [ ] T008 エラー処理とロギングインフラの設定
- [ ] T009 環境設定管理のセットアップ

**チェックポイント**: 基盤準備完了 - これによりユーザーストーリーの実装を並行して開始できます

---

## Phase 3: ユーザーストーリー 1 - [タイトル] (優先度: P1) 🎯 MVP

**ゴール**: [このストーリーが提供するものの簡単な説明]

**独立テスト**: [このストーリーが単独で動作することを検証する方法]

### ユーザーストーリー 1 のテスト (任意 - 要求された場合のみ) ⚠️

> **注: これらのテストを最初に書き、実装前に失敗することを確認してください**

- [ ] T010 [P] [US1] tests/contract/test_[name].py での [エンドポイント] の契約テスト
- [ ] T011 [P] [US1] tests/integration/test_[name].py での [ユーザージャーニー] の統合テスト

### ユーザーストーリー 1 の実装

- [ ] T012 [P] [US1] src/models/[entity1].py に [Entity1] モデルを作成
- [ ] T013 [P] [US1] src/models/[entity2].py に [Entity2] モデルを作成
- [ ] T014 [US1] src/services/[service].py に [Service] を実装 (T012, T013に依存)
- [ ] T015 [US1] src/[location]/[file].py に [エンドポイント/機能] を実装
- [ ] T016 [US1] バリデーションとエラー処理を追加
- [ ] T017 [US1] ユーザーストーリー 1 の操作に関するロギングを追加

**チェックポイント**: この時点で、ユーザーストーリー 1 は完全に機能し、独立してテスト可能であるべきです

---

## Phase 4: ユーザーストーリー 2 - [タイトル] (優先度: P2)

**ゴール**: [このストーリーが提供するものの簡単な説明]

**独立テスト**: [このストーリーが単独で動作することを検証する方法]

### ユーザーストーリー 2 のテスト (任意 - 要求された場合のみ) ⚠️

- [ ] T018 [P] [US2] tests/contract/test_[name].py での [エンドポイント] の契約テスト
- [ ] T019 [P] [US2] tests/integration/test_[name].py での [ユーザージャーニー] の統合テスト

### ユーザーストーリー 2 の実装

- [ ] T020 [P] [US2] src/models/[entity].py に [Entity] モデルを作成
- [ ] T021 [US2] src/services/[service].py に [Service] を実装
- [ ] T022 [US2] src//[location]/[file].py に [エンドポイント/機能] を実装
- [ ] T023 [US2] ユーザーストーリー 1 のコンポーネントと統合 (必要な場合)

**チェックポイント**: この時点で、ユーザーストーリー 1 と 2 の両方が独立して動作すべきです

---

## Phase N: 仕上げ & 横断的な関心事

**目的**: 複数のユーザーストーリーに影響する改善

- [ ] TXXX [P] docs/ のドキュメント更新
- [ ] TXXX コードのクリーンアップとリファクタリング
- [ ] TXXX 全ストーリーにわたるパフォーマンス最適化
- [ ] TXXX [P] 追加の単体テスト (要求された場合) tests/unit/
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.md バリデーションの実行

---

## 依存関係 & 実行順序

### フェーズの依存関係

- **セットアップ (Phase 1)**: 依存なし - すぐに開始可能
- **基盤 (Phase 2)**: セットアップ完了に依存 - 全てのユーザーストーリーをブロックする
- **ユーザーストーリー (Phase 3+)**: 基盤フェーズ完了にすべて依存
  - ユーザーストーリーは並列して進行可能 (人員がいる場合)
  - または優先度順に順次進行 (P1 → P2 → P3)
- **仕上げ (最終フェーズ)**: 希望する全てのユーザーストーリー完了に依存

### ユーザーストーリーの依存関係

- **ユーザーストーリー 1 (P1)**: 基盤 (Phase 2) 後に開始可能 - 他のストーリーへの依存なし
- **ユーザーストーリー 2 (P2)**: 基盤 (Phase 2) 後に開始可能 - US1と統合する可能性はあるが、独立してテスト可能であるべき
- **ユーザーストーリー 3 (P3)**: 基盤 (Phase 2) 後に開始可能 - US1/US2と統合する可能性はあるが、独立してテスト可能であるべき

### 各ユーザーストーリー内

- テスト (含まれる場合) は実装前に書かれ、失敗しなければならない
- モデルはサービスの前
- サービスはエンドポイントの前
- コア実装は統合の前
- 次の優先度に移る前にストーリー完了

---

## 実装戦略

### MVP ファースト (User Story 1 のみ)

1. Phase 1: セットアップ完了
2. Phase 2: 基盤完了 (重要 - 全ストーリーをブロック)
3. Phase 3: ユーザーストーリー 1 完了
4. **停止して検証**: ユーザーストーリー 1 を独立してテスト
5. 準備ができればデプロイ/デモ

### 増分デリバリー

1. セットアップ + 基盤完了 → 基盤準備完了
2. ユーザーストーリー 1 追加 → 独立テスト → デプロイ/デモ (MVP!)
3. ユーザーストーリー 2 追加 → 独立テスト → デプロイ/デモ
4. ユーザーストーリー 3 追加 → 独立テスト → デプロイ/デモ
5. 各ストーリーは以前のストーリーを壊さずに価値を追加する
