<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Squat Tracker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <header>
        <div class="header-row">
          <h1>Squat Tracker</h1>
          <button id="theme-toggle" class="ghost" type="button" aria-pressed="false">
            ダークモード
          </button>
        </div>
        <p class="subtitle">毎日のスクワットをリズムに合わせて記録しよう。</p>
      </header>

      <section class="panel">
        <div class="status">
          <div class="status-item">
            <span class="label">セット</span>
            <span id="set-display" class="value">1 / 3</span>
          </div>
          <div class="status-item">
            <span class="label">回数</span>
            <span id="rep-display" class="value">1 / 10</span>
          </div>
          <div class="status-item phase-status">
            <span class="label">フェーズ</span>
            <span id="phase-display" class="value">待機中</span>
          </div>
        </div>

        <div class="timer">
          <div id="phase-timer" class="timer-value">05</div>
          <div id="phase-hint" class="timer-hint">スタートまでカウントダウン</div>
          <div class="progress">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
        </div>
      </section>

      <section class="controls">
        <div class="control-group">
          <label>
            セット数
            <input id="set-count" type="number" min="1" max="10" value="3" />
          </label>
          <label>
            1セットの回数
            <input id="rep-count" type="number" min="1" max="50" value="10" />
          </label>
        </div>
        <div class="control-group">
          <label>
            しゃがむ時間（秒）
            <input id="down-duration" type="number" min="1" max="5" value="2" />
          </label>
          <label>
            キープ時間（秒）
            <input id="hold-duration" type="number" min="1" max="5" value="1" />
          </label>
          <label>
            立つ時間（秒）
            <input id="up-duration" type="number" min="1" max="5" value="1" />
          </label>
        </div>
        <div class="control-group">
          <label>
            セット間休憩（秒）
            <input id="rest-duration" type="number" min="10" max="120" value="30" />
          </label>
          <label>
            カウントダウン（秒）
            <input id="countdown-duration" type="number" min="3" max="10" value="5" />
          </label>
        </div>
      </section>

      <section class="modes">
        <div class="mode-card">
          <h2>タイマー mode</h2>
          <p>2秒しゃがむ → 1秒キープ → 1秒で立つをガイドします。</p>
          <button id="start-button" class="primary">スタート</button>
          <button id="pause-button">一時停止</button>
          <button id="reset-button" class="ghost">リセット</button>
        </div>
        <div class="mode-card">
          <h2>センサーモード</h2>
          <p>スマホを太ももの前面に固定し、深さが十分になったらカウントアップ。</p>
          <div class="sensor-controls">
            <label class="switch">
              <input id="sensor-toggle" type="checkbox" />
              <span class="slider"></span>
              <span class="switch-label">センサーを使う</span>
            </label>
            <button id="sensor-calibrate" class="ghost" disabled>角度を再計測</button>
          </div>
          <p class="sensor-note" id="sensor-status">未使用</p>
        </div>
      </section>

      <section class="instructions">
        <h2>使い方</h2>
        <ol>
          <li>回数とセット数を設定してスタート。</li>
          <li>音と表示に合わせてスクワット。</li>
          <li>センサーモードでは、スタート時にスマホを逆さまに装着してください。</li>
        </ol>
      </section>
    </main>

    <canvas id="confetti" class="confetti" aria-hidden="true"></canvas>

    <script src="app.js"></script>
  </body>
</html>
