## ドキュメント同期レポート - 2026-01-22

### 検出された変更
- **デイリーミッション機能**: `DailyMissionSystem` および関連UIの実装。
- **装備・レアリティシステム**: 武器のレアリティ（★1〜★5）とドロップ確率の実装。
- **クイズ遅延判定**: `Phase.UP` での判定ロジックの実装。

### 更新したドキュメント
- なし
  - 以下の仕様書が実装と完全に整合していることを確認しました:
    - `.sdd/specs/daily-mission/requirements.md`
    - `.sdd/specs/equipment-system/requirements.md`
    - `.sdd/specs/quiz-delayed-answer/requirements.md`
  - `README.md` にも上記機能の記述が含まれており、正確であることを確認しました。

### 確認事項
- **Daily Mission**: 報酬の「100%武器ドロップ」仕様が実装されていることを確認。
- **Equipment**: レアリティごとのドロップ確率（Common 50% 〜 Legendary 0.5%）が実装されていることを確認。

### 注意が必要な項目
- **未ドキュメント化機能**: `VoiceCoach` (音声ガイド) や `SensorMode` (ジャイロセンサー) の仕様書が `.sdd/specs/` に存在しません。これらは既存機能と思われますが、将来的に仕様書化することが望ましいです。

### 推奨事項
- `VoiceCoach` および `SensorMode` の仕様書作成を検討してください。

---

## ドキュメント同期レポート - 2026-01-21

### 検出された変更
- **計算クイズ機能**: クイズ機能に「協力モード」と「お邪魔モード」が追加されています。
  - **協力モード (Cooperative)**: 正解すると攻撃ボーナスを獲得。
  - **お邪魔モード (Disruptive)**: 不正解だとその回のスクワットが無効化（ノーカウント）され、やり直しになります。
- **ファイル構成**: 大規模なES Modules化リファクタリングが行われ、機能が `js/modules/` 配下に分割されました（これはドキュメントに反映済みであることを確認）。

### 更新したドキュメント
- **README.md**:
  - クイズ機能の説明に「協力モード」と「お邪魔モード」の記述を追加しました。
- **.sdd/design.md**:
  - `Calculation Quiz` のセクションに、各モードの挙動（正解時のボーナス、不正解時のペナルティ）を明記しました。

### 注意が必要な項目
- **テストの安定性**: `tests/quiz-interaction.spec.js` にて、要素の操作待ちでタイムアウトが発生しテストが失敗するケースがあります。これはドキュメントの変更とは無関係ですが、CI環境やテストコードの待機ロジックの改善が推奨されます。

### 推奨事項
- テストコードの `await page.click()` 前後の待機処理を見直すか、タイムアウト設定を延長することを検討してください。

---

## ドキュメント同期レポート - 2026-01-23

### 検出された変更
- **データ外部化 (Refactor)**: 実績データ (`achievements.json`) と武器データ (`base-weapons.json`) がJavaScriptコードから分離され、外部JSONファイルとして管理されるようになりました。
- **リソース読み込み**: `js/modules/resource-loader.js` が導入され、アプリ起動時に設定データを非同期でロードする仕組みに変更されました。
- **仕様書**: `.sdd/specs/data-externalization/` 配下に要件定義書、設計書、タスクリストが整備されています。

### 更新したドキュメント
- **.sdd/specs/data-externalization/tasks.md**:
  - 全ての実装タスクが完了したため、チェックリストを全て完了状態 (`[x]`) に更新しました。
- **README.md**:
  - 「開発用のローカル実行」セクションを更新し、`fetch` APIによる外部データ読み込みのためにローカルサーバーが必須であることを明記しました。

### 注意が必要な項目
- **ローカル実行**: 単なるHTMLファイルとして開く (`file://`) とCORSエラーでJSONが読み込めず、アプリが「Loading...」で停止します。必ずHTTPサーバーを経由してください。

### 推奨事項
- 特になし。実装は設計書と完全に整合しています。

---

## ドキュメント同期レポート - 2026-01-24

### 検出された変更
- **アドベンチャーモード (Adventure Mode)**: `AdventureSystem` の実装、ワールドマップデータの追加、UI統合が行われました。これにより、トレーニング進捗がマップ上の移動として可視化されるようになりました。
- **ヒートマップ (Heatmap)**: 活動履歴をGitHub風のグラフで表示する機能が追加・統合されました。
- **プリセットマネージャー**: トレーニング設定の保存・読み込み機能が強化されました。
- **UI調整**: アドベンチャーモード導入に伴い、ステータス表示位置や全体のレイアウトが調整されました。

### 更新したドキュメント
- **README.md**:
  - 主な機能に「アドベンチャーモード」を追加しました。
- **.sdd/design.md**:
  - Core Modules に `AdventureSystem` を追加。
  - Data Persistence Model に `squat-tracker-adventure` を追加。
  - Key Feature Designs に `Adventure Mode (World Map)` のセクションを追加。
- **.sdd/description.md**:
  - タスク指向の記述から、実装済み機能を含むシステム概要へ更新しました。

### 注意が必要な項目
- **UIレイアウト**: アドベンチャーモードの背景統合により、既存のUIパーツの視認性に影響がないか確認が必要です（現在のところテストはパスしていますが、目視確認推奨）。

### 推奨事項
- 特になし。ドキュメントは現在のコードベースと整合しています。

---

## ドキュメント同期レポート - 2026-01-25

### 検出された変更
- **称号システム (Title System) の実装**
  - 新規モジュール: `js/modules/title-manager.js`
  - データファイル: `js/data/titles.json`
  - 実績システムとの統合: `js/modules/achievement-system.js`, `js/data/achievements.json`
  - ユーザーが実績解除報酬として称号（Prefix/Suffix）を獲得し、組み合わせて設定できる機能が追加されました。

### 更新したドキュメント
- **README.md**
  - 「主な機能」に称号システムを追加。
  - 「使い方」に称号設定の手順を追加。
- **.sdd/description.md**
  - 「最近の実装機能」に称号システムを追加し、日付を更新。

### 注意が必要な項目
- 特になし。

### 推奨事項
- 特になし。

---

## ドキュメント同期レポート - 2026-01-26

### 検出された変更
- **Spec Kit への移行**: ドキュメント管理プロセスが Spec Kit (`.specify` ディレクトリ構造) に移行されました。
- **レガシー資産のアーカイブ**: `.sdd` ディレクトリは非推奨となり、アーカイブとして移動されました。
- **開発ルールの更新**: `AGENTS.md` および `.specify/memory/constitution.md` に新しい開発ルールが定義されています。

### 更新したドキュメント
- **ディレクトリ構造**: `.sdd/` を `.sdd-archive/` にリネームしました。
- **AGENTS.md**: Spec Kit に準拠した内容に更新されていることを確認しました。

### 注意が必要な項目
- **移行期間中の混乱**: 今後、旧 `.sdd` 内のドキュメントを参照する場合は `.sdd-archive` を確認する必要があります。また、新規仕様策定は `.specify` 内で行う必要があります。

### 推奨事項
- 必要に応じて `.sdd-archive` 内の重要な仕様書を `.specify` 形式に移行することを検討してください。

---

## ドキュメント同期レポート - 2026-01-27

### 検出された変更
- **戦績シェアカード生成**: `ShareManager` モジュールと `html2canvas` ライブラリを使用した、戦績画像の生成・ダウンロード機能が実装されました。
  - 成果（回数、カロリー）、装備中の武器、称号、対戦中のボス情報を統合した画像を生成します。
  - 仕様書 `.specify/specs/share-card/spec.md` および `design.md` に準拠しています。

### 更新したドキュメント
- **README.md**:
  - 「主な機能」に「戦績シェアカード生成」を追加しました。
  - 「使い方」にシェアの手順を追加しました。

### 注意が必要な項目
- **ライブラリ依存**: `html2canvas` は動的にロードされますが、ネットワーク環境によってはロードに失敗する可能性があります（エラーハンドリングは実装済み）。

### 推奨事項
- 特になし。実装は仕様書と整合しています。

---

## ドキュメント同期レポート - 2026-01-28

### 検出された変更
- **テンション・ブースト・システム**: スクワットやクイズ正解でゲージを溜め、攻撃力を一時的に強化するシステムが実装されました。
  - 関連モジュール: `js/modules/tension-manager.js`
  - 仕様書: `.specify/specs/002-tension-boost/spec.md`

### 更新したドキュメント
- **README.md**:
  - 「主な機能」に「テンション・ブースト」の説明を追加しました。

### 注意が必要な項目
- 特になし。実装は仕様書 (002-tension-boost) と完全に整合しています。

### 推奨事項
- 特になし。

---

## ドキュメント同期レポート - 2026-01-29

### 検出された変更
- **モンスター図鑑 (Monster Bestiary)**: 遭遇済みモンスターを閲覧できる図鑑機能の実装と、UI（詳細ビューからの戻るボタン）の改善が確認されました。
  - 実装ファイル: `js/modules/bestiary-manager.js`, `js/data/bestiary.json`
  - UI変更: `index.html` (図鑑ボタン, モーダル)
  - テスト: `tests/bestiary.spec.js` (および関連PR #122)

### 更新したドキュメント
- **README.md**:
  - 「主な機能」に「モンスター図鑑」を追加しました。
  - 「使い方」に図鑑へのアクセス方法を追加しました。

### 注意が必要な項目
- **UI改善**: 図鑑詳細画面への「一覧に戻る」ボタン追加は、ユーザビリティ向上のための実装であり、仕様書（`.specify/specs/001-bestiary/spec.md`）の「詳細表示」要件を補完するものです。

### 推奨事項
- 特になし。ドキュメントと実装は整合しています。
